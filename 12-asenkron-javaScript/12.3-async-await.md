### **12.3 â€“ `async/await`**

`async/await` yapÄ±sÄ±nda `then`, `catch`, `finally` yerine ÅŸu ÅŸekilde kullanÄ±lÄ±r:

- **`await`**: Bir `Promise` sonucunu bekler.
- **`try`** bloÄŸu: `await` ile beklenen iÅŸlem baÅŸarÄ±lÄ±ysa bu blok Ã§alÄ±ÅŸÄ±r.
- **`catch`** bloÄŸu: Hata olursa burasÄ± Ã§alÄ±ÅŸÄ±r.
- **`finally`** bloÄŸu: Ä°ÅŸlem baÅŸarÄ±lÄ± ya da hatalÄ± olsun, her durumda Ã§alÄ±ÅŸÄ±r.
- 

**`async/await`**, `then/catch/finally` yapÄ±sÄ±nÄ±n **daha modern**, **daha okunabilir** bir alternatifidir.

Ä°kisi de aynÄ± iÅŸi yapar:

- Asenkron iÅŸlemleri yÃ¶netir,
- BaÅŸarÄ± ve hata durumlarÄ±nÄ± kontrol eder.

Ama `async/await` ile yazÄ±lan kod, senkron kod gibi gÃ¶rÃ¼nÃ¼r, bu da okunmayÄ± ve hata ayÄ±klamayÄ± kolaylaÅŸtÄ±rÄ±r.

**ğŸ”¹ Neden `async/await` kullanÄ±yoruz?**

JavaScript'te bazÄ± iÅŸlemler zaman alÄ±r:

- API'den veri Ã§ekme
- Dosya okuma
- Bekleme yapma

Bu iÅŸlemler **asenkron** Ã§alÄ±ÅŸÄ±r.

Eskiden `.then()` ve `.catch()` ile yazardÄ±k ama bu **karmaÅŸÄ±k ve okunmasÄ± zor olurdu.**

`async/await` ile kodlar daha **temiz**, **okunaklÄ±** ve **senkron gibi** gÃ¶rÃ¼nÃ¼r.

ğŸ”¹ **`async` nedir?**

Bir fonksiyonu `async` olarak tanÄ±mlarsan:

- Bu fonksiyon otomatik olarak bir **Promise dÃ¶ner**. Ne demek bu?

Normalde ÅŸunu yazarsan:

```jsx
function merhaba() {
  return "Selam!";
}
```

Bu sana **direkt "Selam!"** verir.

Ama `async` yazarsan:

```jsx
async function merhaba() {
  return "Selam!";
}
```

Bu artÄ±k sana **direkt "Selam!" deÄŸil**, bir **Promise** verir.

ğŸ“Œ Yani ne olur?

```jsx
const cevap = merhaba();
console.log(cevap);
```

Bu Ã§Ä±ktÄ±da:

```
Promise { "Selam!" }
```

Yani artÄ±k cevap bir **Promise** objesidir.

AslÄ±nda ÅŸu ÅŸekilde oluyor:

```jsx
return Promise.resolve("Selam!");
```

Bu yÃ¼zden ya `.then()` ile ya da `await` ile alÄ±nabilir:

```jsx
merhaba().then(c => console.log(c)); // Selam!
```

---

**ğŸ”¹ `await` nedir?**

- `await`, sadece `async` fonksiyonlar iÃ§inde kullanÄ±lÄ±r.
- Kodun **daha senkron (adÄ±m adÄ±m)** akmasÄ±nÄ± saÄŸlar.
- Bir **Promiseâ€™in Ã§Ã¶zÃ¼lmesini bekler**, yani sonucu alÄ±nana kadar durur. Yani, `await`, Promise'in sonucunu bekler:
    - **`resolve` olursa**, sonucu alÄ±r ve devam eder. (`then`â€™deki veri gibi)
    - **`reject` olursa**, hata fÄ±rlatÄ±r ve `catch`'e dÃ¼ÅŸer (sen `try/catch` ile yakalarsÄ±n).

**Ã–rnek 1 â€“ BaÅŸarÄ±lÄ± Promise (`resolve`):**

```jsx
async function dene() {
  const sonuc = await Promise.resolve("TamamlandÄ±");
  console.log(sonuc);
}
dene(); 

//Ã‡Ä±ktÄ±sÄ±: "TamamlandÄ±"
```

âœ”ï¸ `await`, sonucu aldÄ± â†’ `sonuc = "TamamlandÄ±"`

---

**Ã–rnek 2 â€“ HatalÄ± Promise (`reject`):**

```jsx
async function dene() {
  const sonuc = await Promise.reject("Bir hata var!");
  console.log(sonuc); // Bu Ã§alÄ±ÅŸmaz
}
dene();

//Ã‡Ä±ktÄ±sÄ±: Uncaught (in promise) Bir hata var!
```

ğŸš¨ Bu durumda hata fÄ±rlar, Ã§Ã¼nkÃ¼ `await` hata aldÄ±.

âœ”ï¸ Bu yÃ¼zden `try/catch` gerekir:

```jsx
async function dene() {
  try {
    const sonuc = await Promise.reject("Bir hata var!");
    console.log(sonuc);
  } catch (hata) {
    console.log("Hata yakalandÄ±:", hata);
  }
}

//Ã‡Ä±ktÄ±sÄ±: Hata yakalandÄ±: Bir hata var!
```

---

**âœ… Ã–zet:**

- `await`, `then`â€™in sonucunu alÄ±r.
- Ama hata varsa `catch`â€™e deÄŸil, **try/catch bloÄŸuna** dÃ¼ÅŸer.
- Yani `await` â‡’ `then`â€™in yerini tutar,
    
    `try/catch` â‡’ `catch`â€™in yerini tutar.