### **12.4 â€“ `fetch` API KullanÄ±mÄ±**

ğŸ”¹ **`fetch` nedir?**

- `fetch` JavaScriptâ€™te bir **API'den veri almak** ya da **veri gÃ¶ndermek** iÃ§in kullanÄ±lan yerleÅŸik bir fonksiyondur.
- Genelde bir API'ye **HTTP isteÄŸi (GET, POST, vs.)** atmak iÃ§in kullanÄ±lÄ±r.
- `Promise` tabanlÄ±dÄ±r, bu yÃ¼zden `.then()` ya da `async/await` ile kullanÄ±lÄ±r.

---

**ğŸ“¦ Basit `fetch` kullanÄ±mÄ± (then ile):**

```jsx
fetch("https://jsonplaceholder.typicode.com/posts/1")
  .then(response => response.json()) // gelen cevabÄ± JSON'a Ã§evir
  .then(data => console.log("Veri:", data))
  .catch(hata => console.log("Hata:", hata));
```

**Kod AkÄ±ÅŸÄ± (sÃ¶zel olarak):**

1. `fetch(...)` fonksiyonu Ã§alÄ±ÅŸÄ±r:
    
    `https://jsonplaceholder.typicode.com/posts/1` adresine **GET isteÄŸi** gÃ¶nderir.
    
2. Bu iÅŸlem **asenkron** olduÄŸu iÃ§in bir **Promise dÃ¶ner**.
    
    Veri geldiÄŸinde `.then(response => ...)` bloÄŸu Ã§alÄ±ÅŸÄ±r.
    
3. `response.json()` Ã§aÄŸrÄ±lÄ±r:
    
    Bu, gelen ham cevabÄ± **JSON (JavaScript objesi)** haline Ã§evirir.
    
    Bu iÅŸlem de `Promise` dÃ¶ndÃ¼rdÃ¼ÄŸÃ¼ iÃ§in, bir sonraki `.then(...)` ile devam eder.
    
4. `.then(data => ...)` bloÄŸunda:
    
    JSON verisi artÄ±k hazÄ±rdÄ±r.
    
    `console.log("Veri:", data)` satÄ±rÄ± Ã§alÄ±ÅŸÄ±r ve veri ekrana yazdÄ±rÄ±lÄ±r.
    
5. EÄŸer herhangi bir adÄ±mda hata olursa (Ã¶rn. baÄŸlantÄ± hatasÄ±),
    
    `.catch(hata => ...)` bloÄŸu Ã§alÄ±ÅŸÄ±r ve hata yakalanÄ±r.
    

---

**âœ… AynÄ± Ã¶rnek `async/await` ile:**

```jsx
async function veriGetir() {
  try {
    const response = await fetch("https://jsonplaceholder.typicode.com/posts/1");
    const data = await response.json();
    console.log("Veri:", data);
  } catch (hata) {
    console.log("Hata oluÅŸtu:", hata);
  }
}

veriGetir();
```

**Kodun aÃ§Ä±klamasÄ±:**

Bu kod, internetteki sahte bir API'den (Ã¶rnek veri saÄŸlayan bir yerden) veri Ã§ekmeye Ã§alÄ±ÅŸÄ±yor.

Fonksiyonun adÄ± `veriGetir`. Bu fonksiyon asenkron, yani bazÄ± iÅŸlemler zaman alabilir ve onlarÄ± bekleyebilir.

Fonksiyon Ã§alÄ±ÅŸtÄ±ÄŸÄ±nda Ã¶nce `fetch` komutuyla internetteki bir adrese istek gÃ¶nderiliyor. Bu iÅŸlem hemen bitmeyebilir, biraz zaman alabilir. Bu yÃ¼zden `await` ile bekleniyor. Gelen cevap `response` adlÄ± deÄŸiÅŸkene kaydediliyor.

Sonra bu cevabÄ±n iÃ§indeki veriler `.json()` metoduyla okunuyor. Bu da zaman alabileceÄŸi iÃ§in yine `await` ile bekleniyor. Gelen veriler `data` adlÄ± deÄŸiÅŸkende tutuluyor.

Son olarak bu `data` konsola yazdÄ±rÄ±lÄ±yor.

EÄŸer internet yoksa, API bozuksa ya da baÅŸka bir sorun Ã§Ä±karsa, `catch` kÄ±smÄ± devreye giriyor ve hata mesajÄ± ekrana yazdÄ±rÄ±lÄ±yor.

Yani bu kodun amacÄ±: **veri Ã§ekmeye Ã§alÄ±ÅŸmak ve hata olursa yakalamak.**

---

**ğŸ§¾ Ã–rnek Ã§Ä±ktÄ±:**

```
Veri: {
  userId: 1,
  id: 1,
  title: "sunt aut facere repellat provident occaecati excepturi optio reprehenderit",
  body: "..."
}
```

---

**ğŸ” Ä°pucu:**

- `fetch(...)` her zaman bir **Promise dÃ¶ner**
- `await fetch(...)` ile cevabÄ± alÄ±rsÄ±n
- `await response.json()` ile cevabÄ± okunabilir veriye Ã§evirirsin