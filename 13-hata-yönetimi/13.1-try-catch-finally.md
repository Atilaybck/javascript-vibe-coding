## **13.1 `try`, `catch`, `finally`**

JavaScriptâ€™te bir hata oluÅŸtuÄŸunda programÄ±n durmasÄ±nÄ± engellemek iÃ§in `try`, `catch`, `finally` yapÄ±sÄ± kullanÄ±lÄ±r.

### **ğŸ”¹ AmaÃ§:**

Bir hata oluÅŸtuÄŸunda programÄ±n tamamen Ã§Ã¶kmesini Ã¶nlemek. HatalarÄ± **yakalamak** ve uygun ÅŸekilde **tepki vermek**.

### **ğŸ“Œ YapÄ±sÄ±:**

```jsx
try {
  // Hata oluÅŸturabilecek kodlar buraya yazÄ±lÄ±r
} catch (hata) {
  // Hata oluÅŸursa burasÄ± Ã§alÄ±ÅŸÄ±r
} finally {
  // Ä°steÄŸe baÄŸlÄ±: hata olsa da olmasa da Ã§alÄ±ÅŸÄ±r
}
```

---

**ğŸ”¸ Temel Ã–rnek:**

```jsx
try {
  console.log("Ä°ÅŸlem baÅŸlÄ±yor...");
  let a = 5;
  console.log(a.toUpperCase()); // hata: sayÄ±dan harf olmaz
  console.log("BurasÄ± Ã§alÄ±ÅŸmaz.");
} catch (err) {
  console.log("Hata oluÅŸtu:", err.message);
} finally {
  console.log("Bu blok her zaman Ã§alÄ±ÅŸÄ±r.");
}
```

ğŸŸ¦ **Ã‡Ä±ktÄ±:**

```
Ä°ÅŸlem baÅŸlÄ±yor...
Hata oluÅŸtu: a.toUpperCase is not a function
Bu blok her zaman Ã§alÄ±ÅŸÄ±r.
```

---

### **ğŸ”¹ `try` ne yapar?**

- Ä°Ã§indeki kodlarÄ± **Ã§alÄ±ÅŸtÄ±rmaya** Ã§alÄ±ÅŸÄ±r.
- Hata Ã§Ä±karsa hemen `catch` bloÄŸuna geÃ§er.
- Hata Ã§Ä±kmazsa `catch` atlanÄ±r.

---

### **ğŸ”¹ `catch` ne yapar?**

- Hata nesnesini (Ã¶rneÄŸin `err`) parametre olarak alÄ±r.
- Bu nesneden hata mesajÄ±na (`err.message`) ve detaylarÄ±na (`err.stack`) eriÅŸebilirsin.

---

### **ğŸ”¹ `finally` ne yapar?**

- **Ä°ster hata olsun ister olmasÄ±n** her zaman en sonunda Ã§alÄ±ÅŸÄ±r.
- Genelde: temizlik, kapanÄ±ÅŸ iÅŸlemleri iÃ§in kullanÄ±lÄ±r (Ã¶rnek: yÃ¼kleniyor simgesini gizlemek gibi).

---

**ğŸ”¸ KÃ¼Ã§Ã¼k bir gerÃ§ek Ã¶rnek:**

```jsx
try {
  JSON.parse("{ isim: 'AtÄ±lay' }"); // GeÃ§ersiz JSON (Ã§ift tÄ±rnak yok)
} catch (err) {
  console.error("JSON hatasÄ±:", err.message);
} finally {
  console.log("JSON iÅŸlemi tamamlandÄ±.");
}
```

**Ã‡Ä±ktÄ±:**

```
JSON hatasÄ±: Unexpected token i in JSON at position 2
JSON iÅŸlemi tamamlandÄ±.
```

**Neden?**

- `JSON.parse("{ isim: 'AtÄ±lay' }")` ifadesi geÃ§ersizdir Ã§Ã¼nkÃ¼:
    - JSON'da **anahtarlar ve stringler Ã§ift tÄ±rnakla** (`"`) yazÄ±lmalÄ±dÄ±r.
    - `'AtÄ±lay'` deÄŸil `"AtÄ±lay"` olmalÄ±.
    - `isim` deÄŸil `"isim"` olmalÄ±.

Bu nedenle `JSON.parse` bir **sÃ¶zdizim hatasÄ±** fÄ±rlatÄ±r. `catch` bloÄŸu bu hatayÄ± yakalar ve `finally` her durumda Ã§alÄ±ÅŸÄ±r.

**Ne Zaman KullanÄ±rÄ±z?**

**Her kod bloÄŸu otomatik olarak try-catch iÃ§inde yazÄ±lmaz**. Sadece **hata oluÅŸma ihtimali olan kodlar** `try-catch` iÃ§ine alÄ±nÄ±r. Bu, hatalarÄ± yakalayarak uygulamanÄ±n Ã§Ã¶kmesini Ã¶nlemek iÃ§indir.

**ğŸ”¸ Kodun try-catch kullanÄ±lmamÄ±ÅŸ hali:**

```jsx
console.log("BaÅŸladÄ±");
let x = y + 1; // y tanÄ±msÄ±z
console.log("Bitti");
```

ğŸŸ¥ Bu kod **hata verir ve durur.** ReferenceError: y is not defined hatasÄ± oluÅŸur ve **"Bitti"** satÄ±rÄ± hiÃ§ Ã§alÄ±ÅŸmaz.

**ğŸ”¸ Try-catch kullanÄ±mÄ± neden Ã¶nemli?**

- KullanÄ±cÄ±ya dÃ¼zgÃ¼n hata mesajÄ± gÃ¶stermek iÃ§in
- SayfanÄ±n Ã§Ã¶kmesini Ã¶nlemek iÃ§in
- Ã–zellikle **JSON parse**, **API Ã§aÄŸrÄ±sÄ±**, **DOM eriÅŸimi**, **veri dÃ¶nÃ¼ÅŸÃ¼mÃ¼** gibi iÅŸlemlerde sÄ±k kullanÄ±lÄ±r

**ğŸ”¸ Ne zaman try-catch kullanmalÄ±yÄ±z?**

âœ… ÅÃ¼pheli bir iÅŸlem varsa (deÄŸiÅŸken tanÄ±msÄ±z olabilir, API baÅŸarÄ±sÄ±z olabilir)

âœ… KullanÄ±cÄ± girdisi dÄ±ÅŸarÄ±dan geliyorsa

âœ… Uygulama akÄ±ÅŸÄ±nÄ± bozmadan hata yakalamak istiyorsan

ğŸ”¸ **EÄŸer `try-catch` yoksa:**

Kodda bir hata (Ã¶rneÄŸin tanÄ±msÄ±z deÄŸiÅŸken) oluÅŸtuÄŸunda:

- JavaScript motoru **hata ekranÄ± (console'da kÄ±rmÄ±zÄ± hata mesajÄ±)** gÃ¶sterir.
- Kod Ã§alÄ±ÅŸmayÄ± **orada durdurur**.
- Sonraki satÄ±rlar **Ã§alÄ±ÅŸmaz**.

**ğŸ”¸ EÄŸer `try-catch` varsa:**

- Hata **yakalanÄ±r**, uygulama Ã§Ã¶kmez.
- Konsolda kÄ±rmÄ±zÄ± hata ekranÄ± **gÃ¶sterilmez** (sen nasÄ±l istersen o yazÄ±lÄ±r).
- `catch` bloÄŸunda hatayÄ± sen kontrol eder ve **mesajÄ± Ã¶zelleÅŸtirebilirsin**.
- ProgramÄ±n geri kalanÄ± Ã§alÄ±ÅŸmaya **devam eder**.

Yani `try-catch`, hatayÄ± bastÄ±rmaz, **kontrollÃ¼ bir ÅŸekilde yÃ¶netmeni saÄŸlar.**